{"ast":null,"code":"//rest not created\nimport REST from \"./rest\";\nimport User from \"./user\";\nimport Router from \"next/router\"; // error not create\n\nimport Error from \"../models/error\"; // object with key and value\n//return {string} query string\n\nconst objectToQuery = param => {\n  if (!param) return;\n  return '?' + Object.keys(param).map(i => {\n    return i + \"=\" + param[i];\n  }).join('&');\n};\n\nclass API {\n  static teacherLogin(req) {\n    return REST.post(\"teacher/login\", req);\n  }\n\n  static studentLogin(req) {\n    return REST.post(\"student/login\", req);\n  }\n\n  static managerLogin(req) {\n    return REST.post(\"manager/login\", req);\n  }\n\n  static logout() {\n    User.deleteToken();\n    Router.push(\"/\");\n  } // `${query}` ??? confuse\n\n\n  static getStudentList(param) {\n    return REST.get(`student/list${objectToQuery(param)}`);\n  }\n\n  static CheckAPIResult(param) {\n    return param instanceof Error ? false : true;\n  }\n\n}\n\nexport default API;","map":{"version":3,"sources":["C:/Users/111/Desktop/E-edu/edu-sys/lib/api.js"],"names":["REST","User","Router","Error","objectToQuery","param","Object","keys","map","i","join","API","teacherLogin","req","post","studentLogin","managerLogin","logout","deleteToken","push","getStudentList","get","CheckAPIResult"],"mappings":"AAAA;AACA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,iBAAlB,C,CAEA;AACA;;AACA,MAAMC,aAAa,GAAIC,KAAD,IAAU;AAC5B,MAAG,CAACA,KAAJ,EAAW;AACX,SAAO,MAAMC,MAAM,CAACC,IAAP,CAAYF,KAAZ,EAAmBG,GAAnB,CAAwBC,CAAD,IAAM;AACtC,WAAOA,CAAC,GAAG,GAAJ,GAAUJ,KAAK,CAACI,CAAD,CAAtB;AACH,GAFY,EAEVC,IAFU,CAEL,GAFK,CAAb;AAGH,CALD;;AAMA,MAAMC,GAAN,CAAU;AACN,SAAOC,YAAP,CAAoBC,GAApB,EAAwB;AACpB,WAAOb,IAAI,CAACc,IAAL,CAAU,eAAV,EAA0BD,GAA1B,CAAP;AACH;;AACD,SAAOE,YAAP,CAAoBF,GAApB,EAAwB;AACpB,WAAOb,IAAI,CAACc,IAAL,CAAU,eAAV,EAA0BD,GAA1B,CAAP;AACH;;AAED,SAAOG,YAAP,CAAoBH,GAApB,EAAwB;AACpB,WAAOb,IAAI,CAACc,IAAL,CAAU,eAAV,EAA0BD,GAA1B,CAAP;AACH;;AACD,SAAOI,MAAP,GAAe;AACXhB,IAAAA,IAAI,CAACiB,WAAL;AACAhB,IAAAA,MAAM,CAACiB,IAAP,CAAY,GAAZ;AACH,GAdK,CAeN;;;AACA,SAAOC,cAAP,CAAsBf,KAAtB,EAA6B;AACzB,WAAOL,IAAI,CAACqB,GAAL,CAAU,eAAcjB,aAAa,CAACC,KAAD,CAAQ,EAA7C,CAAP;AACH;;AACD,SAAOiB,cAAP,CAAsBjB,KAAtB,EAA4B;AACxB,WAAOA,KAAK,YAAYF,KAAjB,GAAyB,KAAzB,GAAgC,IAAvC;AACH;;AArBK;;AAwBV,eAAeQ,GAAf","sourcesContent":["//rest not created\r\nimport REST from \"./rest\";\r\nimport User from \"./user\";\r\nimport Router from \"next/router\";\r\n// error not create\r\nimport Error from \"../models/error\"\r\n\r\n// object with key and value\r\n//return {string} query string\r\nconst objectToQuery = (param) =>{\r\n    if(!param) return;\r\n    return '?' + Object.keys(param).map((i) =>{\r\n        return i + \"=\" + param[i];\r\n    }).join('&')\r\n}\r\nclass API {\r\n    static teacherLogin(req){\r\n        return REST.post(\"teacher/login\",req);\r\n    }\r\n    static studentLogin(req){\r\n        return REST.post(\"student/login\",req);\r\n    }\r\n\r\n    static managerLogin(req){\r\n        return REST.post(\"manager/login\",req);\r\n    }\r\n    static logout(){\r\n        User.deleteToken();\r\n        Router.push(\"/\");\r\n    }\r\n    // `${query}` ??? confuse\r\n    static getStudentList(param) {\r\n        return REST.get(`student/list${objectToQuery(param)}`);\r\n    }\r\n    static CheckAPIResult(param){\r\n        return param instanceof Error ? false: true;\r\n    }\r\n}\r\n\r\nexport default API;"]},"metadata":{},"sourceType":"module"}